digraph HastaneRandevu {
    rankdir=TB;
    node [shape=box, style=rounded, fontname="Arial"];

    Start [label="Başla"];
    Kimlik [label="Kullanıcı Kimlik Doğrulama"];
    KimlikFail [label="Kimlik doğrulama başarısız\nSistem sonlandır"];
    Poliklinik [label="Poliklinik seçimi"];
    PoliklinikFail [label="Geçersiz poliklinik seçimi\nTekrar poliklinik seçimi"];
    Doktor [label="Doktor seçimi"];
    DoktorFail [label="Geçersiz doktor seçimi\nTekrar doktor seçimi"];
    TarihSaat [label="Uygun tarih ve saat seçimi"];
    BosSaat [label="Seçilen tarihte uygun randevu yok\nTekrar tarih seçimi"];
    SaatFail [label="Geçersiz saat seçimi\nTekrar saat seçimi"];
    Onay [label="Randevu onayı"];
    OnayHayir [label="Randevu iptal edildi\nSistem sonlandır"];
    Kaydet [label="Randevu kaydet"];
    SMS [label="SMS gönder"];
    Bitis [label="Randevu işlemi tamamlandı\nSistem sonlandır"];

    Start -> Kimlik;
    Kimlik -> KimlikFail [label="Hatalı"];
    Kimlik -> Poliklinik [label="Başarılı"];
    
    Poliklinik -> PoliklinikFail [label="Geçersiz"];
    PoliklinikFail -> Poliklinik;
    Poliklinik -> Doktor;

    Doktor -> DoktorFail [label="Geçersiz"];
    DoktorFail -> Doktor;
    Doktor -> TarihSaat;

    TarihSaat -> BosSaat [label="Uygun saat yok"];
    BosSaat -> TarihSaat;
    TarihSaat -> SaatFail [label="Geçersiz saat"];
    SaatFail -> TarihSaat;
    TarihSaat -> Onay;

    Onay -> OnayHayir [label="Hayır"];
    Onay -> Kaydet [label="Evet"];
    Kaydet -> SMS;
    SMS -> Bitis;
    KimlikFail -> Bitis;
    OnayHayir -> Bitis;
}
